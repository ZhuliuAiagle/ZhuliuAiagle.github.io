---
layout: post
title:  "Vim学习笔记（持续更新中）"
date:   2019-10-08 11:05:00 +0700
categories: zijin update
---
实习这段时间经常要在server侧编辑配置文件和代码文件，还需要在软件或者系统日志中进行快速定位。在这个过程中，我逐渐意识到了Nano编辑器的局限性。在mentor的建议和自身需求的驱动下，我决定开始学习vim的相关操作。主要学习工具是Linux下的Vimtutor。

考虑到Vimtutor虽然结合实操学起来比较快，但有些操作毕竟还是需要记忆的。因此准备把知识点整理在这里，以便日后查阅。

## Part 1

#### 移动光标

在普通模式下可以使用`J`,`K`向上和向下移动，使用`H`,`L`向左和向右移动。记忆方法：H在最左边而L在最右边，J是“Jump”的简写，有“跳过”之义。

使用方向键也是可以的，但tutor更推荐使用`HJKL`作为标准移动键位。

此外，在普通模式下使用回车键`<ENTER>`也可以换行。

#### 退出vim

* `:q!`：不保存所有修改，直接退出vim；
* `:wq`：保存修改后退出vim，在readonly模式下可能会失败。

#### X：删除单个字符

在普通模式下，将光标置于想删除的字符下面，按动`X`键，就可以删除光标指向的字符。删除后，光标停留在右边的字符上。

在INSERT模式下使用`BACKSPACE`退格键也可以使用常规方法删除字符，不过前提是在输入字符之后没有使用方向键移动光标，否则字符就会固定，无法使用退格键删除。

#### I：插入文字

在普通模式下按动`I`键可以进入INSERT模式。INSERT模式可以在光标停留字符的**前面**插入字符，感受和所见即所得编辑大体相同。INSERT模式下不能使用`ENTER`等会添加字符的移动方式进行行间移动，普通模式下的命令也将不可用。



若想退回普通模式，按动`ESC`键即可。

#### A：在行末插入文字

在普通模式下按动`A`键同样可以进入INSERT模式，但光标会自动移动到下一个字母上（如果是行尾，会移动到最后一个字符后），也就是说，从之前光标在的位置的**后面**插入字符。

## Part 2

#### DW: 删除一个单词

使用组合键`DW`可以删除一个单词。删除后，光标会停在下一个单词的第一个字母上（而不是空格上）。如果单词在行末，光标会停在行末字母上。

删除必须把光标放在单词第一个字符上，如果不是，只删去从光标开始到单词结束的字符。

单词的判断依据非26个字母的字符进行分割。如删除`sentence.`这个单词，句号不会删除；删除`don't`这个单词，只会删除`don`的部分，斜撇和最后一个字母并不会删除。

原文表述：until the start of the next word, EXCLUDING its first character.

#### 其他`D<MOTION>`系列命令

* `D$`：删除从光标开始到行末的所有字符；
* `DE`：同样是删掉一个单词，只到这个单词的最后，但保留上一个单词前的空格。原文表述：to the end of the current word, INCLUDING the last character.

#### 单纯的`<MOTION>`系列命令

不加D，单纯的按动`<MOITION>`对应的键，会将光标放置到删除对应字段后原本该停放的位置（但不会在删除对应字段）。
* `E`会将光标放到**单词末尾处**；
* `W`会将光标放到**下一个单词首位**；
* `$`会将光标放到**行末**。

#### `数字+<MOTION>`系列命令

* `nW`（n为数字）会将光标向前移动N个单词的距离，停在第N个单词的开头；
* `nE`（n为数字）会将光标移动到包含当前所在单词的第N个单词的末尾（如果光标在单词最末尾，则移动到下一个单词）；
* 输入`0`会将光标移动到一行的开头。


#### `D+数字+<MOTION>`命令

可以按照`<MOTION>`的规则删除多个单词，适用于`D`, `W`。移动规则同`DW`与`DE`。

#### `数字+DD`命令

`DD`可以删除单行。`nDD`（n为数字）可以删除多行。

#### `U`系列命令（大写与小写）

* 小写`u`可以撤回之前进行的一个操作；
* 大写`U`可以撤回一行之内的所有**更改**（并不是操作本身）；
* u可以用来撤回U操作；
* `CTRL+R`可以用来重做（REDO）被撤销的操作，即撤回u操作。

## Part 3

#### `P`命令：粘贴删除的文本与行

`P`命令可以将之前删除掉的文本粘贴在光标之后。

如果删除的是一段字符，他会粘在光标之后；

如果删除的是用`DD`删除的一整行，他会粘在光标所在那一行的下面（这里的一整行是指用`DD`删除，用其他命令删除均属“一段字符”的范畴）

#### `R+<字符>`命令：替换单个字符

`R`命令后加要替换的字符可以将光标所在位置的字符替换为指定字符。支持shift。





